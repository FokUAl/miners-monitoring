<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/style.css">
    <title>Enegix</title>
</head>
<body>
    <nav>
        <div class="logo" onclick="window.location. href='/'"><img src="../static/img/logo_black.svg"></div>
        <div class="links">
            <div class="link" onclick="window.location. href='/add'">Add new ASIC</div>
            <div class="link" onclick="window.location.href='/grid'">Miners grid</div>
            <div class="link" onclick="window.location. href='/auth/logout'">Logout</div>
        </div>
    </nav>
    <main class="main-index">
        <div class="grid-select-container">
            <label>Area</label>
            <select class="grid-select">
                <option>1</option>
                <option>2</option>
                <option>3</option>
            </select>
            <label>Shelf</label>
            <select class="grid-select">
                <option>1</option>
                <option>2</option>
                <option>3</option>
            </select>
            <input type="submit" value="Search" class="filter--submit">
        </div>
        <div class="grid" id="grid">
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-1-1 Status: offline" id="111"></div>
                <div class="grid--row" data-tooltip="Location: 1-1-2 Status: offline" id="112"></div>
                <div class="grid--row" data-tooltip="Location: 1-1-3 Status: offline" id="113"></div>
                <div class="grid--row" data-tooltip="Location: 1-1-4 Status: offline" id="114"></div>
                <div class="grid--row" data-tooltip="Location: 1-1-5 Status: offline" id="115"></div>
                <div class="grid--row" data-tooltip="Location: 1-1-6 Status: offline" id="116"></div>
                <div class="grid--row" data-tooltip="Location: 1-1-7 Status: offline" id="117"></div>
                <div class="grid--row" data-tooltip="Location: 1-1-8 Status: offline" id="118"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-2-1 Status: offline" id="121"></div>
                <div class="grid--row" data-tooltip="Location: 1-2-2 Status: offline" id="122"></div>
                <div class="grid--row" data-tooltip="Location: 1-2-3 Status: offline" id="123"></div>
                <div class="grid--row" data-tooltip="Location: 1-2-4 Status: offline" id="124"></div>
                <div class="grid--row" data-tooltip="Location: 1-2-5 Status: offline" id="125"></div>
                <div class="grid--row" data-tooltip="Location: 1-2-6 Status: offline" id="126"></div>
                <div class="grid--row" data-tooltip="Location: 1-2-7 Status: offline" id="127"></div>
                <div class="grid--row" data-tooltip="Location: 1-2-8 Status: offline" id="128"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-3-1 Status: offline" id="131"></div>
                <div class="grid--row" data-tooltip="Location: 1-3-2 Status: offline" id="132"></div>
                <div class="grid--row" data-tooltip="Location: 1-3-3 Status: offline" id="133"></div>
                <div class="grid--row" data-tooltip="Location: 1-3-4 Status: offline" id="134"></div>
                <div class="grid--row" data-tooltip="Location: 1-3-5 Status: offline" id="135"></div>
                <div class="grid--row" data-tooltip="Location: 1-3-6 Status: offline" id="136"></div>
                <div class="grid--row" data-tooltip="Location: 1-3-7 Status: offline" id="137"></div>
                <div class="grid--row" data-tooltip="Location: 1-3-8 Status: offline" id="138"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-4-1 Status: offline" id="141"></div>
                <div class="grid--row" data-tooltip="Location: 1-4-2 Status: offline" id="142"></div>
                <div class="grid--row" data-tooltip="Location: 1-4-3 Status: offline" id="143"></div>
                <div class="grid--row" data-tooltip="Location: 1-4-4 Status: offline" id="144"></div>
                <div class="grid--row" data-tooltip="Location: 1-4-5 Status: offline" id="145"></div>
                <div class="grid--row" data-tooltip="Location: 1-4-6 Status: offline" id="146"></div>
                <div class="grid--row" data-tooltip="Location: 1-4-7 Status: offline" id="147"></div>
                <div class="grid--row" data-tooltip="Location: 1-4-8 Status: offline" id="148"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-5-1 Status: offline" id="151"></div>
                <div class="grid--row" data-tooltip="Location: 1-5-2 Status: offline" id="152"></div>
                <div class="grid--row" data-tooltip="Location: 1-5-3 Status: offline" id="153"></div>
                <div class="grid--row" data-tooltip="Location: 1-5-4 Status: offline" id="154"></div>
                <div class="grid--row" data-tooltip="Location: 1-5-5 Status: offline" id="155"></div>
                <div class="grid--row" data-tooltip="Location: 1-5-6 Status: offline" id="156"></div>
                <div class="grid--row" data-tooltip="Location: 1-5-7 Status: offline" id="157"></div>
                <div class="grid--row" data-tooltip="Location: 1-5-8 Status: offline" id="158"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-6-1 Status: offline" id="161"></div>
                <div class="grid--row" data-tooltip="Location: 1-6-2 Status: offline" id="162"></div>
                <div class="grid--row" data-tooltip="Location: 1-6-3 Status: offline" id="163"></div>
                <div class="grid--row" data-tooltip="Location: 1-6-4 Status: offline" id="164"></div>
                <div class="grid--row" data-tooltip="Location: 1-6-5 Status: offline" id="165"></div>
                <div class="grid--row" data-tooltip="Location: 1-6-6 Status: offline" id="166"></div>
                <div class="grid--row" data-tooltip="Location: 1-6-7 Status: offline" id="167"></div>
                <div class="grid--row" data-tooltip="Location: 1-6-8 Status: offline" id="168"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-7-1 Status: offline" id="171"></div>
                <div class="grid--row" data-tooltip="Location: 1-7-2 Status: offline" id="172"></div>
                <div class="grid--row" data-tooltip="Location: 1-7-3 Status: offline" id="173"></div>
                <div class="grid--row" data-tooltip="Location: 1-7-4 Status: offline" id="174"></div>
                <div class="grid--row" data-tooltip="Location: 1-7-5 Status: offline" id="175"></div>
                <div class="grid--row" data-tooltip="Location: 1-7-6 Status: offline" id="176"></div>
                <div class="grid--row" data-tooltip="Location: 1-7-7 Status: offline" id="177"></div>
                <div class="grid--row" data-tooltip="Location: 1-7-8 Status: offline" id="178"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-8-1 Status: offline" id="181"></div>
                <div class="grid--row" data-tooltip="Location: 1-8-2 Status: offline" id="182"></div>
                <div class="grid--row" data-tooltip="Location: 1-8-3 Status: offline" id="183"></div>
                <div class="grid--row" data-tooltip="Location: 1-8-4 Status: offline" id="184"></div>
                <div class="grid--row" data-tooltip="Location: 1-8-5 Status: offline" id="185"></div>
                <div class="grid--row" data-tooltip="Location: 1-8-6 Status: offline" id="186"></div>
                <div class="grid--row" data-tooltip="Location: 1-8-7 Status: offline" id="187"></div>
                <div class="grid--row" data-tooltip="Location: 1-8-8 Status: offline" id="188"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-9-1 Status: offline" id="191"></div>
                <div class="grid--row" data-tooltip="Location: 1-9-2 Status: offline" id="192"></div>
                <div class="grid--row" data-tooltip="Location: 1-9-3 Status: offline" id="193"></div>
                <div class="grid--row" data-tooltip="Location: 1-9-4 Status: offline" id="194"></div>
                <div class="grid--row" data-tooltip="Location: 1-9-5 Status: offline" id="195"></div>
                <div class="grid--row" data-tooltip="Location: 1-9-6 Status: offline" id="196"></div>
                <div class="grid--row" data-tooltip="Location: 1-9-7 Status: offline" id="197"></div>
                <div class="grid--row" data-tooltip="Location: 1-9-8 Status: offline" id="198"></div>
            </div>
            <div class="grid--column">
                <div class="grid--row" data-tooltip="Location: 1-10-1 Status: offline" id="1101"></div>
                <div class="grid--row" data-tooltip="Location: 1-10-2 Status: offline" id="1102"></div>
                <div class="grid--row" data-tooltip="Location: 1-10-3 Status: offline" id="1103"></div>
                <div class="grid--row" data-tooltip="Location: 1-10-4 Status: offline" id="1104"></div>
                <div class="grid--row" data-tooltip="Location: 1-10-5 Status: offline" id="1105"></div>
                <div class="grid--row" data-tooltip="Location: 1-10-6 Status: offline" id="1106"></div>
                <div class="grid--row" data-tooltip="Location: 1-10-7 Status: offline" id="1107"></div>
                <div class="grid--row" data-tooltip="Location: 1-10-8 Status: offline" id="1108"></div>
            </div>
        </div>
    </main>
    <div class="open-chat" onclick="openChat()">Chat Support</div>
    <div class="chat-popup" id="chat">
        <form action="/" class="form--chat">
            <div class="chat--title">Chat support</div>
            <textarea placeholder="Type message.."></textarea>
            <button class="chat--submit">Send message</button>
            <div class="chat--btn-cancel" onclick="closeChat()">Close</div>
        </form>
    </div>
    <script>
        const chat = document.getElementById('chat')
        const openChat = () => {
            chat.style.display = 'block'
        }
        const closeChat = () => {
            chat.style.display = 'none'
        }
        
        const grid = document.getElementById('grid')
        {{ if . }}
            {{ range . }}
                for (let i = 0; i < grid.children.length; i++) {
                    const temp = grid.children[i]
                    for (let j = 0; j < temp.children.length; j++) {
                        const tempCh = temp.children[j]
                        const locTemp = {{ .Shelf }}.toString(16) + {{ .Row }}.toString(16) + {{ .Column }}.toString(16)
                        if (tempCh.id === locTemp) {
                            tempCh.style.backgroundColor = '#3989c9'
                            tempCh.setAttribute('data-tooltip', 'Location: ' + {{ .Shelf }}.toString(16) + '-' + {{ .Row }}.toString(16) + '-' + {{ .Column }}.toString(16) + ' Status: ' + {{ .MinerStatus }} + ' Owner: ' + {{ .Owner }})
                            tempCh.setAttribute('onclick', 'location.href=\'./asic?shelf=' + {{ .Shelf }} + '&row=' + {{ .Row }} + '&column=' + {{ .Column }} + '\'')
                        }
                    }
                }
            {{ end }}
        {{ end }}
    </script>
    <!-- shelf 4 column 10 row 8 -->
</body>